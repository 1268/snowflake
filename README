Current logic for id generation:

                             +-----------+
                             |  lastTS   |
                             |           |
                             |    ==     |
                             |           |
                             |  currTS   |
                             +-----------+
                             /           \
                            /             \
                 YES       /               \     NO
             +------------+                 +------------+
             |   incr.    |                 |            |
             |  sequence  |                 |   reset    |
             |    and     |                 |  sequence  |
             |  did seq.  |                 |   to 0     |
             | roll over? |                 |            |
             +------------+                 +------------+
                 /    \                           |
                /      \                          |
       YES     /        \  NO                     |
  +-------------+    +------------+               |
  |   Sleep     |    |            |               |
  |  for 1ms    |    |    Done.   |               |
  |    and      |    |            |               |
  |   reset     |    |            |               |
  |   currTS    |    |            |               |
  +-------------+    +------------+               |
               \             \             +------------+
                 \             \           |            |
                   \             \         |  Compute   |
                     \             \_______|    id      |
                       \                   |            |
                         \________________ |            |
                                           +------------+
